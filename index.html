<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>zx-extra</title><meta name="description" content="Documentation for zx-extra"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">zx-extra</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>zx-extra</h1></div><div class="tsd-panel tsd-typography"><h1 id="ðŸ¦ª-zx-extra" class="tsd-anchor-link">ðŸ¦ª zx-extra<a href="#ðŸ¦ª-zx-extra" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><blockquote>
<p><a href="https://github.com/google/zx">zx</a> with some extras</p>
</blockquote>
<p><a href="https://codeclimate.com/github/qiwi/zx-extra/test_coverage"><img src="https://api.codeclimate.com/v1/badges/dee1d6ae98f929b3c44f/test_coverage" alt="Test Coverage"></a>
<a href="https://www.npmjs.com/package/zx-extra"><img src="https://img.shields.io/npm/v/zx-extra" alt="npm"></a></p>
<h2 id="requirements" class="tsd-anchor-link">Requirements<a href="#requirements" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>Node.js &gt;= 16.0.0</li>
<li>Bun &gt;= 1.0.12</li>
</ul>
<h2 id="install" class="tsd-anchor-link">Install<a href="#install" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="shell"><span class="hl-0"># npm</span><br/><span class="hl-1">npm</span><span class="hl-2"> </span><span class="hl-3">i</span><span class="hl-2"> </span><span class="hl-3">zx-extra</span><br/><br/><span class="hl-0"># yarn</span><br/><span class="hl-1">yarn</span><span class="hl-2"> </span><span class="hl-3">add</span><span class="hl-2"> </span><span class="hl-3">zx-extra</span>
</code><button type="button">Copy</button></pre>

<h2 id="usage" class="tsd-anchor-link">Usage<a href="#usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Inherits <a href="https://github.com/google/zx">zx</a>, so all original methods are available. Follow <a href="https://github.com/google/zx">the upstream docs</a> for details.</p>
<h2 id="extras" class="tsd-anchor-link">Extras<a href="#extras" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p><s>striked text</s> marks APIs that was merged into zx core.</p>
<h3 id="ip" class="tsd-anchor-link"><code>ip</code><a href="#ip" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Resolves the current IP address via <a href="https://github.com/indutny/node-ip">node-ip</a>.</p>
<pre><code class="js"><span class="hl-4">import</span><span class="hl-2"> {</span><span class="hl-5">ip</span><span class="hl-2">} </span><span class="hl-4">from</span><span class="hl-2"> </span><span class="hl-3">&#39;zx-extra&#39;</span><br/><br/><span class="hl-5">ip</span><span class="hl-2">.</span><span class="hl-1">address</span><span class="hl-2">() </span><span class="hl-0">// 1.2.3.4</span>
</code><button type="button">Copy</button></pre>

<h3 id="semver" class="tsd-anchor-link"><code>semver</code><a href="#semver" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Semantic versioning API provided by <a href="https://github.com/npm/node-semver">node-semver</a>.</p>
<pre><code class="js"><span class="hl-4">import</span><span class="hl-2"> {</span><span class="hl-5">semver</span><span class="hl-2">} </span><span class="hl-4">from</span><span class="hl-2"> </span><span class="hl-3">&#39;zx-extra&#39;</span><br/><br/><span class="hl-5">semver</span><span class="hl-2">.</span><span class="hl-1">gte</span><span class="hl-2">(</span><span class="hl-3">&#39;1.0.1&#39;</span><span class="hl-2">, </span><span class="hl-3">&#39;1.0.0&#39;</span><span class="hl-2">)</span>
</code><button type="button">Copy</button></pre>

<h3 id="ver" class="tsd-anchor-link"><code>ver</code><a href="#ver" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Asserts the version of the specified package or binary against the semver range.</p>
<pre><code class="js"><span class="hl-4">import</span><span class="hl-2"> {</span><span class="hl-5">ver</span><span class="hl-2">} </span><span class="hl-4">from</span><span class="hl-2"> </span><span class="hl-3">&#39;zx-extra&#39;</span><br/><br/><span class="hl-1">ver</span><span class="hl-2">(</span><span class="hl-3">&#39;ip&#39;</span><span class="hl-2">)           </span><span class="hl-0">// &#39;1.1.8&#39;</span><br/><span class="hl-1">ver</span><span class="hl-2">(</span><span class="hl-3">&#39;git&#39;</span><span class="hl-2">)          </span><span class="hl-0">// &#39;2.37.0&#39;</span><br/><span class="hl-1">ver</span><span class="hl-2">(</span><span class="hl-3">&#39;git&#39;</span><span class="hl-2">, </span><span class="hl-3">&#39;&gt;=2&#39;</span><span class="hl-2">)   </span><span class="hl-0">// &#39;2.37.0&#39;</span><br/><span class="hl-1">ver</span><span class="hl-2">(</span><span class="hl-3">&#39;git&#39;</span><span class="hl-2">, </span><span class="hl-3">&#39;&gt;=5&#39;</span><span class="hl-2">)   </span><span class="hl-0">// Error: git@2.37.0 does not satisfy &gt;=5</span>
</code><button type="button">Copy</button></pre>

<h3 id="tcping" class="tsd-anchor-link"><code>tcping</code><a href="#tcping" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Checks the network availability of the specified gateway via <a href="https://github.com/sindresorhus/is-reachable#readme">is-reachable</a>.</p>
<pre><code class="js"><span class="hl-4">import</span><span class="hl-2"> {</span><span class="hl-5">tcping</span><span class="hl-2">} </span><span class="hl-4">from</span><span class="hl-2"> </span><span class="hl-3">&#39;zx-extra&#39;</span><br/><br/><span class="hl-4">await</span><span class="hl-2"> </span><span class="hl-1">tcping</span><span class="hl-2">(</span><span class="hl-3">&#39;example.com:443&#39;</span><span class="hl-2">) </span><span class="hl-0">// true</span><br/><span class="hl-4">await</span><span class="hl-2"> </span><span class="hl-1">tcping</span><span class="hl-2">(</span><span class="hl-3">&#39;unknown:1234&#39;</span><span class="hl-2">)    </span><span class="hl-0">// false</span>
</code><button type="button">Copy</button></pre>

<h3 id="tempy" class="tsd-anchor-link"><s><code>tempy</code></s><a href="#tempy" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><em>deprecated</em>, use <code>tmpfile</code> and <code>tmpdir</code> instead: <a href="https://github.com/google/zx/pull/803">zx#803</a></p>
<p>Creates <a href="https://github.com/sindresorhus/tempy">temp dirs and files</a>.</p>
<pre><code class="js"><span class="hl-4">import</span><span class="hl-2"> {</span><span class="hl-5">tempy</span><span class="hl-2">} </span><span class="hl-4">from</span><span class="hl-2"> </span><span class="hl-3">&#39;zx-extra&#39;</span><br/><br/><span class="hl-5">tempy</span><span class="hl-2">.</span><span class="hl-1">temporaryFile</span><span class="hl-2">()       </span><span class="hl-0">// &#39;/private/var/folders/p0/p7xckky93s30rshd51gs4pdc0000gn/T/1b7e9277860eb90b94aad816d4f66f8e&#39;</span><br/><span class="hl-5">tempy</span><span class="hl-2">.</span><span class="hl-1">temporaryDirectory</span><span class="hl-2">()  </span><span class="hl-0">// &#39;/private/var/folders/p0/p7xckky93s30rshd51gs4pdc0000gn/T/1b7e9277860eb90b94aad816d4f66f8e&#39;</span>
</code><button type="button">Copy</button></pre>

<h3 id="copy" class="tsd-anchor-link"><code>copy</code><a href="#copy" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Provides <a href="https://github.com/antongolub/globby-cp"><code>globby</code>-boosted copying API</a>.</p>
<pre><code class="js"><span class="hl-4">import</span><span class="hl-2"> {</span><span class="hl-5">copy</span><span class="hl-2">} </span><span class="hl-4">from</span><span class="hl-2"> </span><span class="hl-3">&#39;zx-extra&#39;</span><br/><br/><span class="hl-4">await</span><span class="hl-2"> </span><span class="hl-1">copy</span><span class="hl-2">({</span><br/><span class="hl-2">  </span><span class="hl-5">from:</span><span class="hl-2">       </span><span class="hl-3">&#39;src/**/*.js&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">to:</span><span class="hl-2">         </span><span class="hl-3">&#39;dist/&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">baseFrom</span><span class="hl-2">,   </span><span class="hl-0">// process.cwd()</span><br/><span class="hl-2">  </span><span class="hl-5">baseTo</span><span class="hl-2">,     </span><span class="hl-0">// process.cwd(),</span><br/><span class="hl-2">  </span><span class="hl-5">debug</span><span class="hl-2">,      </span><span class="hl-0">// () =&gt; {}</span><br/><span class="hl-2">  </span><span class="hl-5">ignoreFiles</span><span class="hl-2"> </span><span class="hl-0">// undefined</span><br/><span class="hl-2">})</span>
</code><button type="button">Copy</button></pre>

<h3 id="ini" class="tsd-anchor-link"><code>INI</code><a href="#ini" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Provides <a href="https://github.com/npm/ini#readme">INI API</a>.</p>
<pre><code class="js"><span class="hl-4">import</span><span class="hl-2"> {</span><span class="hl-5">INI</span><span class="hl-2">} </span><span class="hl-4">from</span><span class="hl-2"> </span><span class="hl-3">&#39;zx-extra&#39;</span><br/><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">ini</span><span class="hl-2"> = </span><span class="hl-3">`[database]</span><br/><span class="hl-3">user = dbuser</span><br/><span class="hl-3">password = dbpassword</span><br/><span class="hl-3">`</span><br/><span class="hl-2">  </span><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">parsed</span><span class="hl-2"> = </span><span class="hl-7">INI</span><span class="hl-2">.</span><span class="hl-1">parse</span><span class="hl-2">(</span><span class="hl-5">ini</span><span class="hl-2">)</span><br/><span class="hl-2">  </span><span class="hl-5">parsed</span><span class="hl-2">.</span><span class="hl-5">database</span><span class="hl-2">.</span><span class="hl-5">user</span><span class="hl-2"> </span><span class="hl-0">//  &#39;dbuser&#39;</span><br/><span class="hl-2">  </span><span class="hl-7">INI</span><span class="hl-2">.</span><span class="hl-1">stringify</span><span class="hl-2">(</span><span class="hl-5">parsed</span><span class="hl-2">, {</span><span class="hl-5">whitespace:</span><span class="hl-2"> </span><span class="hl-6">true</span><span class="hl-2">}) </span><span class="hl-0">//  ini</span>
</code><button type="button">Copy</button></pre>

<h3 id="ssri" class="tsd-anchor-link"><code>SSRI</code><a href="#ssri" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Exposes <a href="https://github.com/npm/ssri#readme">SSRI API</a></p>
<pre><code class="js"><span class="hl-4">import</span><span class="hl-2"> {</span><span class="hl-5">SSRI</span><span class="hl-2">} </span><span class="hl-4">from</span><span class="hl-2"> </span><span class="hl-3">&#39;zx-extra&#39;</span><br/><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">integrity</span><span class="hl-2"> = </span><span class="hl-3">&#39;sha512-9KhgCRIx/AmzC8xqYJTZRrnO8OW2Pxyl2DIMZSBOr0oDvtEFyht3xpp71j/r/pAe1DM+JI/A+line3jUBgzQ7A==?foo&#39;</span><br/><span class="hl-0">// Parsing and serializing</span><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">parsed</span><span class="hl-2"> = </span><span class="hl-7">SSRI</span><span class="hl-2">.</span><span class="hl-1">parse</span><span class="hl-2">(</span><span class="hl-5">integrity</span><span class="hl-2">)</span><br/><span class="hl-7">SSRI</span><span class="hl-2">.</span><span class="hl-1">stringify</span><span class="hl-2">(</span><span class="hl-5">parsed</span><span class="hl-2">) </span><span class="hl-0">// === integrity (works on non-Integrity objects)</span><br/><span class="hl-5">parsed</span><span class="hl-2">.</span><span class="hl-1">toString</span><span class="hl-2">() </span><span class="hl-0">// === integrity</span>
</code><button type="button">Copy</button></pre>

<h3 id="ctx" class="tsd-anchor-link"><code>ctx</code><a href="#ctx" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><a href="https://nodejs.org/api/async_hooks.html">async_hooks</a>-driven scope isolator.
Creates a separate zx-context for the specified function.</p>
<pre><code class="js"><span class="hl-4">import</span><span class="hl-2"> {</span><span class="hl-5">ctx</span><span class="hl-2">} </span><span class="hl-4">from</span><span class="hl-2"> </span><span class="hl-3">&#39;zx/experimental&#39;</span><br/><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">_$</span><span class="hl-2"> = </span><span class="hl-5">$</span><br/><span class="hl-1">ctx</span><span class="hl-2">(</span><span class="hl-6">async</span><span class="hl-2"> (</span><span class="hl-5">$</span><span class="hl-2">) </span><span class="hl-6">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-4">await</span><span class="hl-2"> </span><span class="hl-1">sleep</span><span class="hl-2">(</span><span class="hl-8">10</span><span class="hl-2">)</span><br/><span class="hl-2">  </span><span class="hl-1">cd</span><span class="hl-2">(</span><span class="hl-3">&#39;/foo&#39;</span><span class="hl-2">)</span><br/><span class="hl-2">  </span><span class="hl-0">// $.cwd refers to /foo</span><br/><span class="hl-2">  </span><span class="hl-0">// _$.cwd === $.cwd</span><br/><span class="hl-2">})</span><br/><br/><span class="hl-1">ctx</span><span class="hl-2">(</span><span class="hl-6">async</span><span class="hl-2"> (</span><span class="hl-5">$</span><span class="hl-2">) </span><span class="hl-6">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-4">await</span><span class="hl-2"> </span><span class="hl-1">sleep</span><span class="hl-2">(</span><span class="hl-8">20</span><span class="hl-2">)</span><br/><span class="hl-2">  </span><span class="hl-0">// _$.cwd refers to /foo</span><br/><span class="hl-2">  </span><span class="hl-0">// but _$.cwd !== $.cwd</span><br/><span class="hl-2">})</span><br/><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">ref</span><span class="hl-2"> = </span><span class="hl-5">$</span><span class="hl-2">.</span><span class="hl-1">bind</span><span class="hl-2">(</span><span class="hl-6">null</span><span class="hl-2">)</span><br/><span class="hl-1">ctx</span><span class="hl-2">((</span><span class="hl-5">$</span><span class="hl-2">) </span><span class="hl-6">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-5">ref</span><span class="hl-2"> === </span><span class="hl-5">$</span><span class="hl-2"> </span><span class="hl-0">// true</span><br/><span class="hl-2">}, </span><span class="hl-5">ref</span><span class="hl-2">)</span>
</code><button type="button">Copy</button></pre>

<h3 id="preferlocal" class="tsd-anchor-link"><s><code>$.preferLocal</code></s><a href="#preferlocal" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Landed as <a href="https://github.com/google/zx/pull/798">zx#798</a></p>
<p>In npm run scripts you can execute locally installed binaries by name. This enables the same for zx.</p>
<pre><code class="js"><span class="hl-1">$</span><span class="hl-3">`terser input.js --compress ecma=2015,computed_props=false`</span>
</code><button type="button">Copy</button></pre>

<p>Note, that yarn and npm modify <code>env.$PATH</code> value, so some <code>*/node_modules/.bin</code> binaries are available for invocation.
To disable this side-effect, append smth like <a href="https://askubuntu.com/questions/386629/what-are-the-default-path-values"><code>PATH=$(env -i bash -c 'echo $PATH')</code> to the command</a>.</p>
<h3 id="raw" class="tsd-anchor-link"><code>$.raw</code><a href="#raw" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Evaluates target cmd as is without <code>shq</code>.</p>
<pre><code class="js"><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">cmd</span><span class="hl-2"> = </span><span class="hl-3">&#39;echo foo&#39;</span><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">msg</span><span class="hl-2"> = </span><span class="hl-3">&#39;bar&#39;</span><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">output</span><span class="hl-2"> = (</span><span class="hl-4">await</span><span class="hl-2"> </span><span class="hl-5">$</span><span class="hl-2">.</span><span class="hl-1">raw</span><span class="hl-3">`</span><span class="hl-6">${</span><span class="hl-5">cmd</span><span class="hl-6">}</span><span class="hl-3"> </span><span class="hl-6">${</span><span class="hl-5">msg</span><span class="hl-6">}</span><span class="hl-3">`</span><span class="hl-2">).</span><span class="hl-1">toString</span><span class="hl-2">().</span><span class="hl-1">trim</span><span class="hl-2">()</span><br/><span class="hl-0">// $ echo foo bar</span>
</code><button type="button">Copy</button></pre>

<h3 id="verbose" class="tsd-anchor-link"><s><code>$.verbose</code></s><a href="#verbose" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><em>Since <a href="https://github.com/google/zx/releases/tag/8.0.0">zx@8.0.0</a></em></p>
<p>Set to <code>false</code> by default.</p>
<h3 id="trim" class="tsd-anchor-link"><code>$.trim</code><a href="#trim" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Applies <code>.trim()</code> to <code>ProcessOutput</code> string representation. Set <code>true</code> by default.</p>
<h3 id="opt" class="tsd-anchor-link"><s><code>$.opt</code></s><a href="#opt" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><em>Landed as <a href="https://github.com/google/zx/pull/733">zx#733</a></em></p>
<p>Returns <code>$</code> with the specified preset. Aliased for <code>$.o</code>.</p>
<pre><code class="js"><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">$$</span><span class="hl-2"> = </span><span class="hl-5">$</span><span class="hl-2">.</span><span class="hl-1">opt</span><span class="hl-2">({</span><span class="hl-5">verbose:</span><span class="hl-2"> </span><span class="hl-6">false</span><span class="hl-2">, </span><span class="hl-5">spawn:</span><span class="hl-2"> </span><span class="hl-5">customSpawn</span><span class="hl-2">})</span><br/><br/><span class="hl-4">await</span><span class="hl-2"> </span><span class="hl-1">$$</span><span class="hl-3">`foo &#39;bar&#39;`</span>
</code><button type="button">Copy</button></pre>

<h3 id="createhook" class="tsd-anchor-link"><code>createHook</code><a href="#createhook" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Helper to create chainable extras.</p>
<pre><code class="js"><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">quiet</span><span class="hl-2"> = </span><span class="hl-1">createHook</span><span class="hl-2">({ </span><span class="hl-5">verbose:</span><span class="hl-2"> </span><span class="hl-6">false</span><span class="hl-2"> }, </span><span class="hl-3">&#39;quiet&#39;</span><span class="hl-2">)</span><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">timeout</span><span class="hl-2"> = </span><span class="hl-1">createHook</span><span class="hl-2">(</span><br/><span class="hl-2">  </span><span class="hl-6">null</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-3">&#39;timeout&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  (</span><span class="hl-5">p</span><span class="hl-2">, </span><span class="hl-5">t</span><span class="hl-2">, </span><span class="hl-5">signal</span><span class="hl-2">) </span><span class="hl-6">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-4">if</span><span class="hl-2"> (!</span><span class="hl-5">t</span><span class="hl-2">) </span><span class="hl-4">return</span><span class="hl-2"> </span><span class="hl-5">p</span><br/><span class="hl-2">    </span><span class="hl-6">let</span><span class="hl-2"> </span><span class="hl-5">timer</span><span class="hl-2"> = </span><span class="hl-1">setTimeout</span><span class="hl-2">(() </span><span class="hl-6">=&gt;</span><span class="hl-2"> </span><span class="hl-5">p</span><span class="hl-2">.</span><span class="hl-1">kill</span><span class="hl-2">(</span><span class="hl-5">signal</span><span class="hl-2">), </span><span class="hl-5">t</span><span class="hl-2">)</span><br/><br/><span class="hl-2">    </span><span class="hl-4">return</span><span class="hl-2"> </span><span class="hl-5">Object</span><span class="hl-2">.</span><span class="hl-1">assign</span><span class="hl-2">(</span><br/><span class="hl-2">      </span><span class="hl-5">p</span><span class="hl-2">.</span><span class="hl-1">finally</span><span class="hl-2">(() </span><span class="hl-6">=&gt;</span><span class="hl-2"> </span><span class="hl-1">clearTimeout</span><span class="hl-2">(</span><span class="hl-5">timer</span><span class="hl-2">)),</span><br/><span class="hl-2">      </span><span class="hl-5">p</span><br/><span class="hl-2">    )</span><br/><span class="hl-2">  },</span><br/><span class="hl-2">  </span><span class="hl-6">true</span><br/><span class="hl-2">)</span><br/><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">p</span><span class="hl-2"> = </span><span class="hl-1">$</span><span class="hl-3">`sleep 9999`</span><br/><span class="hl-4">await</span><span class="hl-2"> </span><span class="hl-1">quiet</span><span class="hl-2">(</span><span class="hl-1">timeout</span><span class="hl-2">(</span><span class="hl-8">100</span><span class="hl-2">, </span><span class="hl-3">&#39;SIGKILL&#39;</span><span class="hl-2">)(</span><span class="hl-5">p</span><span class="hl-2">))</span><br/><span class="hl-4">await</span><span class="hl-2"> </span><span class="hl-1">$</span><span class="hl-3">`sleep 9999`</span><span class="hl-2">.</span><span class="hl-1">quiet</span><span class="hl-2">().</span><span class="hl-1">timeout</span><span class="hl-2">(</span><span class="hl-8">100</span><span class="hl-2">, </span><span class="hl-3">&#39;SIGKILL&#39;</span><span class="hl-2">)</span><br/><span class="hl-4">await</span><span class="hl-2"> </span><span class="hl-1">quiet</span><span class="hl-2">(</span><span class="hl-1">timeout</span><span class="hl-2">(</span><span class="hl-8">100</span><span class="hl-2">, </span><span class="hl-3">&#39;SIGKILL&#39;</span><span class="hl-2">)</span><span class="hl-3">`sleep 9999`</span><span class="hl-2">)</span>
</code><button type="button">Copy</button></pre>

<h3 id="silent" class="tsd-anchor-link"><s><code>$.silent</code></s><a href="#silent" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><em>merged as <a href="bf88f5064b31dea79da4999f25425ca0fe0b8013">bf88f50</a></em></p>
<p>Sets <code>verbose = false</code> for a single invocation.</p>
<pre><code class="js"><span class="hl-4">await</span><span class="hl-2"> </span><span class="hl-5">$</span><span class="hl-2">.</span><span class="hl-1">silent</span><span class="hl-3">`echo foo`</span><br/><span class="hl-0">// &lt;no output in console&gt;</span>
</code><button type="button">Copy</button></pre>

<h3 id="fs--globalfs" class="tsd-anchor-link"><s><code>$.fs / global.fs</code></s><a href="#fs--globalfs" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><em>merged as <a href="73cd163d710f88d1ff835ffc3e76214eca07bb9b">d8b6b87</a></em><br>
Refers to <a href="https://www.npmjs.com/package/fs-extra">fs-extra</a> instead of standard Node.js <code>fs</code> module.</p>
<pre><code class="js"><span class="hl-4">await</span><span class="hl-2"> </span><span class="hl-5">fs</span><span class="hl-2">.</span><span class="hl-1">copy</span><span class="hl-2">(</span><span class="hl-3">&#39;/tmp/myfile&#39;</span><span class="hl-2">, </span><span class="hl-3">&#39;/tmp/mynewfile&#39;</span><span class="hl-2">)</span>
</code><button type="button">Copy</button></pre>

<h3 id="globalargv" class="tsd-anchor-link"><s><code>global.argv</code></s><a href="#globalargv" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><em>merged as <a href="https://github.com/google/zx/commit/d8b6b87e5d48023fc23fd2a4f8513a896ee13c68">d8b6b87</a></em><br>
Represents parsed with <a href="https://www.npmjs.com/package/minimist">minimist</a> script arguments</p>
<pre><code class="js"><span class="hl-0">// zx-extra test.mjs --foo=bar</span><br/><span class="hl-5">argv</span><br/><span class="hl-2">{ </span><span class="hl-9">_</span><span class="hl-2">: [ </span><span class="hl-3">&#39;test.mjs&#39;</span><span class="hl-2"> ], </span><span class="hl-9">foo</span><span class="hl-2">: </span><span class="hl-3">&#39;bar&#39;</span><span class="hl-2"> }</span>
</code><button type="button">Copy</button></pre>

<h3 id="license" class="tsd-anchor-link">License<a href="#license" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><a href="media/LICENSE">MIT</a></p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#ðŸ¦ª-zx-extra"><span>ðŸ¦ª zx-<wbr/>extra</span></a><ul><li><a href="#requirements"><span>Requirements</span></a></li><li><a href="#install"><span>Install</span></a></li><li><a href="#usage"><span>Usage</span></a></li><li><a href="#extras"><span>Extras</span></a></li><li><ul><li><a href="#ip"><span>ip</span></a></li><li><a href="#semver"><span>semver</span></a></li><li><a href="#ver"><span>ver</span></a></li><li><a href="#tcping"><span>tcping</span></a></li><li><a href="#tempy"><span>tempy</span></a></li><li><a href="#copy"><span>copy</span></a></li><li><a href="#ini"><span>INI</span></a></li><li><a href="#ssri"><span>SSRI</span></a></li><li><a href="#ctx"><span>ctx</span></a></li><li><a href="#preferlocal"><span>$.prefer<wbr/>Local</span></a></li><li><a href="#raw"><span>$.raw</span></a></li><li><a href="#verbose"><span>$.verbose</span></a></li><li><a href="#trim"><span>$.trim</span></a></li><li><a href="#opt"><span>$.opt</span></a></li><li><a href="#createhook"><span>create<wbr/>Hook</span></a></li><li><a href="#silent"><span>$.silent</span></a></li><li><a href="#fs--globalfs"><span>$.fs / global.fs</span></a></li><li><a href="#globalargv"><span>global.argv</span></a></li><li><a href="#license"><span>License</span></a></li></ul></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">zx-extra</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer></footer><div class="overlay"></div></body></html>
